# ─── Idle Inhibit Configuration ──────────────────────────────────────────────
# xidlehook manages screen dimming/blanking/suspend with media-aware detection
#
# This prevents screen blanking during:
#   - Video playback (YouTube, mpv, VLC, etc.) via --not-when-fullscreen
#   - Audio playback (music, podcasts, etc.) via --not-when-audio
#
# Timeouts (configurable via environment variables before starting i3):
#   IDLE_DIM_TIMEOUT     - seconds before dimming (default: 300 = 5 min)
#   IDLE_BLANK_TIMEOUT   - seconds after dim before blank (default: 60)
#   IDLE_SUSPEND_TIMEOUT - seconds after blank before suspend (default: 1800)
#
# To check status: ~/dotfiles/scripts/idle_inhibit.sh status

# Start xidlehook on i3 startup
# Note: Default DPMS is disabled in .xinitrc, xidlehook takes over
exec_always --no-startup-id sh -lc 'pgrep -x xidlehook >/dev/null || ~/dotfiles/scripts/idle_inhibit.sh start'
