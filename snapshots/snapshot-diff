#!/bin/bash
# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Å–Ω—ç–ø—à–æ—Ç–æ–≤
# Usage: snapshot-diff <snapshot1> <snapshot2>

GREEN="\033[0;32m"
CYAN="\033[0;36m"
YELLOW="\033[1;33m"
RED="\033[0;31m"
RESET="\033[0m"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ Snapper
if ! sudo snapper -c root list &>/dev/null; then
    echo -e "${RED}‚ùå Snapper –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ snapshot_setup.sh${RESET}"
    exit 1
fi

if [ -z "$1" ] || [ -z "$2" ]; then
    echo -e "${YELLOW}–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: snapshot-diff <–Ω–æ–º–µ—Ä1> <–Ω–æ–º–µ—Ä2>${RESET}"
    echo -e "${CYAN}–ü—Ä–∏–º–µ—Ä: snapshot-diff 1 5${RESET}"
    echo ""
    echo -e "${CYAN}–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–Ω—ç–ø—à–æ—Ç—ã:${RESET}"
    sudo snapper -c root list
    exit 1
fi

echo -e "${CYAN}üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–Ω—ç–ø—à–æ—Ç–æ–≤ $1 –∏ $2:${RESET}"
echo ""
sudo snapper -c root status "$1".."$2"
